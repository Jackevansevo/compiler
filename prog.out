#!/usr/bin/env bash
tempfile=$(mktemp)
tail $0 -n +7 > $tempfile
spim load $tempfile | tail -n +6
rm -f $tempfile
exit
li $fp, 0
jal main
j end
main:
li $a0, 48
li $v0, 9
syscall
sw $fp, 4($v0)
move $fp, $v0
sw $ra, 12($v0)
li $t0, 1
li $t1, 2
add $t2, $t0, $t1
li $t3, 4
mul $t4, $t2, $t3
li $t5, 3
div $t6, $t4, $t5
# Load print integer syscall
li $v0, 1
# Move $t6 into $a0 (print integer argument)
move $a0, $t6
syscall
# Print a newline
addi $a0, $0, 0xA
addi $v0, $0, 0xB
syscall
li $v1, 0
jr $ra
end:
# Exit the program
li $v0, 10
syscall
